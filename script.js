const translations = {
  ua: {
    title: "Завод пінопластових виробів",
    "nav.products": "Продукція",
    "nav.about-us": "Про нас",
    "nav.contacts": "Контакти",
    "hero.title": "Якісні пінопластові вироби",
    "hero.cta": "Зв'язатися з нами",
    "products.title": "Наша продукція",
    "products.foam.title": "Пінопласт",
    "products.foam.desc": "Високоякісний пінопласт для утеплення фасадів, дахів та підлог.",
    "products.packaging.title": "Упаковка",
    "products.packaging.desc": "Міцні та легкі пакувальні рішення для захисту товарів.",
    "products.learn-more": "Переглянути товари",
    "about-us.title": "Про нас",
    "about-us.desc": "Ми — провідний виробник пінопластових виробів в Україні з 19-річним досвідом.",
    "contacts.title": "Контакти",
    "contacts.phone.label": "Телефон:",
    "contacts.email.label": "Email:",
    "contacts.address.label": "Адреса:",
    "contacts.address": "Одеса, вул. Моторна, 1",
    "calculator.title": "Калькулятор об'єму",
    "calculator.unit": "Одиниці вимірювання:",
    "calculator.unit.meters": "Метри",
    "calculator.unit.centimeters": "Сантиметри",
    "calculator.unit.millimeters": "Міліметри",
    "calculator.unit.tooltip": "Виберіть одиниці вимірювання",
    "calculator.length": "Довжина:",
    "calculator.length.tooltip": "Введіть довжину в обраних одиницях",
    "calculator.width": "Ширина:",
    "calculator.width.tooltip": "Введіть ширину в обраних одиницях",
    "calculator.height": "Висота:",
    "calculator.height.tooltip": "Введіть висоту в обраних одиницях",
    "calculator.calculate": "Розрахувати",
    "calculator.reset": "Скинути",
    "calculator.volume": "Об'єм",
    "calculator.area": "Площа поверхні",
    "calculator.error": "Будь ласка, введіть усі розміри.",
    "footer.contacts": "Контакти",
    "footer.navigation": "Навігація",
    "footer.contact": "Тел: +380 12 779 96 | Email: info@navekodessa.com",
    "footer.products": "Продукція",
    "footer.about-us": "Про нас",
    "footer.copyright": "© 2025 Завод пінопластових виробів. Усі права захищені."
  },
  en: {
    title: "Foam Products Factory",
    "nav.products": "Products",
    "nav.about-us": "About Us",
    "nav.contacts": "Contacts",
    "hero.title": "High-Quality Foam Products",
    "hero.cta": "Contact Us",
    "products.title": "Our Products",
    "products.foam.title": "Foam",
    "products.foam.desc": "High-quality foam for insulating facades, roofs, and floors.",
    "products.packaging.title": "Packaging",
    "products.packaging.desc": "Durable and lightweight packaging solutions to protect goods.",
    "products.learn-more": "View Products",
    "about-us.title": "About Us",
    "about-us.desc": "We are a leading foam products manufacturer in Ukraine with 19 years of experience.",
    "contacts.title": "Contacts",
    "contacts.phone.label": "Phone:",
    "contacts.email.label": "Email:",
    "contacts.address.label": "Address:",
    "contacts.address": "Odesa, Motorna St, 1",
    "calculator.title": "Volume Calculator",
    "calculator.unit": "Units of Measurement:",
    "calculator.unit.meters": "Meters",
    "calculator.unit.centimeters": "Centimeters",
    "calculator.unit.millimeters": "Millimeters",
    "calculator.unit.tooltip": "Select the units of measurement",
    "calculator.length": "Length:",
    "calculator.length.tooltip": "Enter the length in selected units",
    "calculator.width": "Width:",
    "calculator.width.tooltip": "Enter the width in selected units",
    "calculator.height": "Height:",
    "calculator.height.tooltip": "Enter the height in selected units",
    "calculator.calculate": "Calculate",
    "calculator.reset": "Reset",
    "calculator.volume": "Volume",
    "calculator.area": "Surface Area",
    "calculator.error": "Please enter all dimensions.",
    "footer.contacts": "Contacts",
    "footer.navigation": "Navigation",
    "footer.contact": "Phone: +380 12 779 96 | Email: info@navekodessa.com",
    "footer.products": "Products",
    "footer.about-us": "About Us",
    "footer.copyright": "© 2025 Foam Products Factory. All rights reserved."
  },
  ru: {
    title: "Завод пенопластовых изделий",
    "nav.products": "Продукция",
    "nav.about-us": "О нас",
    "nav.contacts": "Контакты",
    "hero.title": "Качественные пенопластовые изделия",
    "hero.cta": "Связаться с нами",
    "products.title": "Наша продукция",
    "products.foam.title": "Пенопласт",
    "products.foam.desc": "Высококачественный пенопласт для утепления фасадов, крыш и полов.",
    "products.packaging.title": "Упаковка",
    "products.packaging.desc": "Прочные и легкие упаковочные решения для защиты товаров.",
    "products.learn-more": "Посмотреть товары",
    "about-us.title": "О нас",
    "about-us.desc": "Мы — ведущий производитель пенопластовых изделий в Украине с 19-летним опытом.",
    "contacts.title": "Контакты",
    "contacts.phone.label": "Телефон:",
    "contacts.email.label": "Email:",
    "contacts.address.label": "Адрес:",
    "contacts.address": "Одесса, ул. Моторная, 1",
    "calculator.title": "Калькулятор объёма",
    "calculator.unit": "Единицы измерения:",
    "calculator.unit.meters": "Метры",
    "calculator.unit.centimeters": "Сантиметры",
    "calculator.unit.millimeters": "Миллиметры",
    "calculator.unit.tooltip": "Выберите единицы измерения",
    "calculator.length": "Длина:",
    "calculator.length.tooltip": "Введите длину в выбранных единицах",
    "calculator.width": "Ширина:",
    "calculator.width.tooltip": "Введите ширину в выбранных единицах",
    "calculator.height": "Висота:",
    "calculator.height.tooltip": "Введите высоту в выбранных единицах",
    "calculator.calculate": "Рассчитать",
    "calculator.reset": "Сбросить",
    "calculator.volume": "Объём",
    "calculator.area": "Площадь поверхности",
    "calculator.error": "Пожалуйста, введите все размеры.",
    "footer.contacts": "Контакты",
    "footer.navigation": "Навигация",
    "footer.contact": "Тел: +380 12 779 96 | Email: info@navekodessa.com",
    "footer.products": "Продукция",
    "footer.about-us": "О нас",
    "footer.copyright": "© 2025 Завод пенопластовых изделий. Все права защищены."
  }
};

let lastVolume = null;
let lastArea = null;

function changeLanguage(lang) {
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    element.innerHTML = translations[lang][key] || translations['ua'][key] || element.textContent;
  });
  document.querySelector('title').textContent = translations[lang].title || translations['ua'].title;
  document.querySelectorAll('.lang-toggle a').forEach(link => {
    link.classList.toggle('active', link.getAttribute('data-lang') === lang);
  });
  localStorage.setItem('language', lang);

  if (lastVolume !== null && lastArea !== null) {
    document.getElementById('volumeResult').textContent = `${translations[lang]['calculator.volume']}: ${lastVolume.toFixed(3)} м³`;
    document.getElementById('areaResult').textContent = `${translations[lang]['calculator.area']}: ${lastArea.toFixed(3)} м²`;
  }
}

function toggleMenu() {
  const menu = document.getElementById('menu');
  const contactInfo = document.querySelector('.contact-info');
  const toggle = document.querySelector('.menu-toggle');
  menu.classList.toggle('active');
  contactInfo.classList.toggle('active');
  toggle.classList.toggle('active');
}

function toggleCalculator() {
  console.log('Calculator toggle clicked'); // Отладка
  const modal = document.getElementById('calculatorModal');
  if (modal) {
    modal.classList.toggle('active');
  } else {
    console.error('Element with ID calculatorModal not found');
  }
}

function calculateVolume() {
  const unit = parseFloat(document.getElementById('unit').value);
  const length = parseFloat(document.getElementById('length').value) * unit;
  const width = parseFloat(document.getElementById('width').value) * unit;
  const height = parseFloat(document.getElementById('height').value) * unit;
  const currentLang = localStorage.getItem('language') || 'ua';
  if (isNaN(length) || isNaN(width) || isNaN(height)) {
    document.getElementById('volumeResult').textContent = translations[currentLang]['calculator.error'];
    document.getElementById('areaResult').textContent = '';
    lastVolume = null;
    lastArea = null;
    return;
  }
  lastVolume = length * width * height;
  lastArea = 2 * (length * width + width * height + height * length);
  document.getElementById('volumeResult').textContent = `${translations[currentLang]['calculator.volume']}: ${lastVolume.toFixed(3)} м³`;
  document.getElementById('areaResult').textContent = `${translations[currentLang]['calculator.area']}: ${lastArea.toFixed(3)} м²`;
}

function resetCalculator() {
  document.getElementById('length').value = '';
  document.getElementById('width').value = '';
  document.getElementById('height').value = '';
  document.getElementById('unit').value = '1';
  document.getElementById('volumeResult').textContent = '';
  document.getElementById('areaResult').textContent = '';
  lastVolume = null;
  lastArea = null;
}

// Initialize language
document.addEventListener('DOMContentLoaded', () => {
  const savedLang = localStorage.getItem('language') || 'ua';
  changeLanguage(savedLang);
  document.querySelectorAll('.lang-toggle a').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      changeLanguage(link.getAttribute('data-lang'));
    });
  });
});
